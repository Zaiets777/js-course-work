{"version":3,"file":"scroll-up-Bd-b3WRV.js","sources":["../../src/js/api-service.js","../../src/js/rating.js","../../src/js/modal-exercise.js","../../src/js/mobile-menu.js","../../src/js/scroll-up.js"],"sourcesContent":["// –ë–∞–∑–æ–≤–∞ URL –∞–¥—Ä–µ—Å–∞ –±–µ–∫–µ–Ω–¥—É\nconst BASE_URL = 'https://your-energy.b.goit.study/api';\n\nexport class YourEnergyAPI {\n  \n  // 1. –û—Ç—Ä–∏–º–∞—Ç–∏ —Ü–∏—Ç–∞—Ç—É\n  async getQuote() {\n    const res = await fetch(`${BASE_URL}/quote`);\n    return res.json();\n  }\n\n  // 2. –û—Ç—Ä–∏–º–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏\n  async getFilters(filter, page = 1, limit = 12) {\n    const url = new URL(`${BASE_URL}/filters`);\n    url.searchParams.set('filter', filter);\n    url.searchParams.set('page', page);\n    url.searchParams.set('limit', limit);\n    \n    const res = await fetch(url);\n    return res.json();\n  }\n\n  // 3. –û—Ç—Ä–∏–º–∞—Ç–∏ –≤–ø—Ä–∞–≤–∏\n  async getExercises({ bodypart, muscles, equipment, keyword, page = 1, limit = 10 }) {\n    const url = new URL(`${BASE_URL}/exercises`);\n    \n    if (bodypart) url.searchParams.set('bodypart', bodypart);\n    if (muscles) url.searchParams.set('muscles', muscles);\n    if (equipment) url.searchParams.set('equipment', equipment);\n    if (keyword) url.searchParams.set('keyword', keyword);\n    url.searchParams.set('page', page);\n    url.searchParams.set('limit', limit);\n\n    const res = await fetch(url);\n    return res.json();\n  }\n\n  // 4. –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–Ω—É –≤–ø—Ä–∞–≤—É –ø–æ ID\n  async getExerciseById(id) {\n    const res = await fetch(`${BASE_URL}/exercises/${id}`);\n    return res.json();\n  }\n\n  // 5. –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ä–æ–∑—Å–∏–ª–∫—É\n  async subscribe(email) {\n    const res = await fetch(`${BASE_URL}/subscription`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email })\n    });\n    if (!res.ok) throw new Error('Subscription failed');\n    return res.json();\n  }\n\n  // 6. –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥ ‚≠êÔ∏è\n  async patchRating(id, { rate, email, review }) {\n    const res = await fetch(`${BASE_URL}/exercises/${id}/rating`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ \n        rate: Number(rate), \n        email, \n        review \n      })\n    });\n    \n    // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ (—â–æ–± –ø—Ä–∞—Ü—é–≤–∞–ª–∞ –ª–æ–≥—ñ–∫–∞ –∑ 409 Conflict)\n    if (!res.ok) {\n        const error = new Error('Rating failed');\n        error.response = { status: res.status }; \n        throw error;\n    }\n    return res.json();\n  }\n}","import { YourEnergyAPI } from './api-service';\n\nconst api = new YourEnergyAPI();\nconst backdrop = document.querySelector('.js-rating-backdrop');\nconst closeBtn = document.querySelector('.js-rating-close');\nconst form = document.querySelector('.js-rating-form');\nconst starsList = document.querySelector('.js-stars-list');\nconst ratingValue = document.querySelector('.js-rating-value');\n\nlet currentExerciseId = null;\nlet currentRating = 0;\n\n// --- 1. –í–Ü–î–ö–†–ò–¢–¢–Ø ---\nexport function openRatingModal(id) {\n  if (!backdrop) return;\n  currentExerciseId = id;\n  \n  // –Ø–∫—â–æ –≤—ñ–¥–∫—Ä–∏—Ç–∞ –º–æ–¥–∞–ª–∫–∞ –≤–ø—Ä–∞–≤–∏, —Ö–æ–≤–∞—î–º–æ —ó—ó –±–µ–∫–¥—Ä–æ–ø (—â–æ–± –Ω–µ –±—É–ª–æ –¥–≤–∞ —Ç–µ–º–Ω–∏—Ö —Ñ–æ–Ω–∏)\n  const exerciseBackdrop = document.querySelector('.js-backdrop'); \n  if (exerciseBackdrop) exerciseBackdrop.classList.add('is-hidden');\n\n  backdrop.classList.remove('is-hidden');\n  resetForm(); // –°–∫–∏–¥–∞—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –¥–∞–Ω—ñ\n}\n\n// --- 2. –ó–ê–ö–†–ò–¢–¢–Ø ---\nfunction closeRatingModal() {\n  backdrop.classList.add('is-hidden');\n  \n  // –Ø–∫—â–æ –º–∏ –∑–∞–∫—Ä–∏–≤–∞—î–º–æ —Ä–µ–π—Ç–∏–Ω–≥, –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤–∏–¥–∏–º—ñ—Å—Ç—å –º–æ–¥–∞–ª–∫–∏ –≤–ø—Ä–∞–≤–∏\n  const exerciseBackdrop = document.querySelector('.js-backdrop');\n  if (exerciseBackdrop && !exerciseBackdrop.classList.contains('is-hidden')) {\n      // –í–æ–Ω–∞ —ñ —Ç–∞–∫ –≤—ñ–¥–∫—Ä–∏—Ç–∞, –ø—Ä–æ—Å—Ç–æ –∑–Ω—ñ–º–∞—î–º–æ –∫–ª–∞—Å is-hidden —è–∫—â–æ –º–∏ –π–æ–≥–æ –¥–æ–¥–∞–≤–∞–ª–∏\n      exerciseBackdrop.classList.remove('is-hidden'); \n  }\n}\n\n// --- 3. –ó–Ü–†–û–ß–ö–ò (–ö–ª—ñ–∫) ---\nif (starsList) {\n  starsList.addEventListener('click', (e) => {\n    // –®—É–∫–∞—î–º–æ, —á–∏ –∫–ª—ñ–∫–Ω—É–ª–∏ –ø–æ –∑—ñ—Ä—Ü—ñ (li –∞–±–æ svg –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ)\n    const star = e.target.closest('.star-item');\n    if (!star) return;\n\n    currentRating = Number(star.dataset.value);\n    \n    // –û–Ω–æ–≤–ª—é—î–º–æ —Ü–∏—Ñ—Ä—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ \"4.0\")\n    ratingValue.textContent = currentRating.toFixed(1);\n\n    // –§–∞—Ä–±—É—î–º–æ –≤—Å—ñ –∑—ñ—Ä–∫–∏ –¥–æ –æ–±—Ä–∞–Ω–æ—ó\n    const stars = starsList.querySelectorAll('.star-item');\n    stars.forEach((s, index) => {\n      if (index < currentRating) {\n        s.classList.add('active'); // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å –¥–ª—è –∂–æ–≤—Ç–æ–≥–æ –∫–æ–ª—å–æ—Ä—É\n      } else {\n        s.classList.remove('active');\n      }\n    });\n  });\n}\n\n// --- 4. –í–Ü–î–ü–†–ê–í–ö–ê –§–û–†–ú–ò ---\nif (form) {\n  form.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    \n    if (currentRating === 0) {\n      alert('Please select a rating star!');\n      return;\n    }\n\n    const email = form.elements.email.value.trim();\n    const review = form.elements.comment.value.trim();\n\n    const btn = form.querySelector('button');\n    const originalText = btn.textContent;\n    btn.textContent = 'Sending...';\n    btn.disabled = true;\n\n    try {\n      // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä\n      await api.patchRating(currentExerciseId, { rate: currentRating, email, review });\n      \n      alert('Thank you! Your rating has been accepted.');\n      closeRatingModal();\n      \n    } catch (error) {\n      console.error(error);\n      // –°–µ—Ä–≤–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î 409 Conflict, —è–∫—â–æ —Ç–∞–∫–∏–π email –≤–∂–µ –≥–æ–ª–æ—Å—É–≤–∞–≤\n      if (error.response && error.response.status === 409) {\n          alert('You have already rated this exercise.');\n      } else {\n          alert('Something went wrong. Please try again.');\n      }\n      closeRatingModal();\n    } finally {\n      btn.textContent = originalText;\n      btn.disabled = false;\n    }\n  });\n}\n\nfunction resetForm() {\n  form.reset();\n  currentRating = 0;\n  ratingValue.textContent = '0.0';\n  starsList.querySelectorAll('.star-item').forEach(s => s.classList.remove('active'));\n}\n\n// –°–ª—É—Ö–∞—á—ñ –∑–∞–∫—Ä–∏—Ç—Ç—è\nif (closeBtn) closeBtn.addEventListener('click', closeRatingModal);\nif (backdrop) backdrop.addEventListener('click', (e) => { if (e.target === backdrop) closeRatingModal(); });","import { YourEnergyAPI } from './api-service';\nimport { openRatingModal } from './rating.js'; // üëà 1. –î–æ–¥–∞–Ω–æ —ñ–º–ø–æ—Ä—Ç —Ä–µ–π—Ç–∏–Ω–≥—É\n\nconst api = new YourEnergyAPI();\nconst backdrop = document.querySelector('.js-backdrop');\nconst modalContent = document.querySelector('.js-modal-content');\nconst closeBtn = document.querySelector('.js-modal-close');\n\n// –ó–º—ñ–Ω–Ω–∞ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –≤–ø—Ä–∞–≤–∏\nlet currentExercise = null;\n\n// --- –í–Ü–î–ö–†–ò–¢–¢–Ø –ú–û–î–ê–õ–ö–ò ---\nexport async function openModal(id) {\n  if (!backdrop) return;\n  \n  // 1. –ü–æ–∫–∞–∑—É—î–º–æ –±–µ–∫–¥—Ä–æ–ø\n  backdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden'; \n  \n  modalContent.innerHTML = '<p style=\"text-align:center; padding:50px;\">Loading...</p>';\n\n  try {\n    // 2. –ö–∞—á–∞—î–º–æ –¥–∞–Ω—ñ\n    currentExercise = await api.getExerciseById(id);\n    \n    // 3. –ú–∞–ª—é—î–º–æ —Ä–æ–∑–º—ñ—Ç–∫—É\n    renderModalMarkup(currentExercise);\n    \n    // 4. –í—ñ—à–∞—î–º–æ —Å–ª—É—Ö–∞—á—ñ (Favorites + Rating)\n    setupModalListeners();\n\n  } catch (error) {\n    console.error(error);\n    modalContent.innerHTML = '<p style=\"text-align:center; color:red; padding:50px;\">Failed to load details.</p>';\n  }\n}\n\n// --- –ó–ê–ö–†–ò–¢–¢–Ø –ú–û–î–ê–õ–ö–ò ---\nfunction closeModal() {\n  backdrop.classList.add('is-hidden');\n  document.body.style.overflow = ''; \n  modalContent.innerHTML = ''; \n}\n\n// --- –°–õ–£–•–ê–ß–Ü –î–õ–Ø –ó–ê–ö–†–ò–¢–¢–Ø ---\nif (closeBtn) {\n  closeBtn.addEventListener('click', closeModal);\n}\n\nif (backdrop) {\n  backdrop.addEventListener('click', (e) => {\n    if (e.target === backdrop) {\n      closeModal();\n    }\n  });\n}\n\ndocument.addEventListener('keydown', (e) => {\n  if (e.key === 'Escape' && !backdrop.classList.contains('is-hidden')) {\n    closeModal();\n  }\n});\n\n// --- –†–û–ó–ú–Ü–¢–ö–ê ---\nfunction renderModalMarkup(data) {\n  const { gifUrl, name, rating, target, bodyPart, equipment, popularity, burnedCalories, time, description, _id } = data;\n\n  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î –≤–∂–µ –≤ –æ–±—Ä–∞–Ω–æ–º—É\n  const favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  const isFavorite = favorites.some(item => item._id === _id);\n  \n  const btnText = isFavorite ? 'Remove from favorites' : 'Add to favorites';\n  // –Ü–∫–æ–Ω–∫–∞: –°–º—ñ—Ç–Ω–∏–∫ (—è–∫—â–æ –≤ –æ–±—Ä–∞–Ω–æ–º—É) –∞–±–æ –°–µ—Ä—Ü–µ (—è–∫—â–æ –Ω—ñ)\n  const btnIcon = isFavorite ? \n    '<svg width=\"18\" height=\"18\"><path d=\"M6 18L18 6M6 6l12 12\" stroke=\"white\" stroke-width=\"2\"/></svg>' : \n    '<svg width=\"18\" height=\"18\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" fill=\"white\"/></svg>';\n\n  const markup = `\n    <div class=\"modal-wrapper\">\n      <img class=\"modal-img\" src=\"${gifUrl}\" alt=\"${name}\">\n      \n      <div class=\"modal-info\">\n        <h3 class=\"modal-title\">${name}</h3>\n        \n        <div class=\"modal-rating\">\n          <span class=\"modal-rating-value\">${rating}</span>\n          <svg class=\"modal-star\" viewBox=\"0 0 32 32\"><path d=\"M16 2 L20.32 10.75 L30 12.16 L23 18.98 L24.65 28.63 L16 24.08 L7.35 28.63 L9 18.98 L2 12.16 L11.68 10.75 Z\"></path></svg>\n        </div>\n\n        <ul class=\"modal-details-list\">\n          <li class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Target</span>\n            <span class=\"modal-details-value\">${target}</span>\n          </li>\n          <li class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Body Part</span>\n            <span class=\"modal-details-value\">${bodyPart}</span>\n          </li>\n          <li class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Equipment</span>\n            <span class=\"modal-details-value\">${equipment}</span>\n          </li>\n          <li class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Popular</span>\n            <span class=\"modal-details-value\">${popularity}</span>\n          </li>\n          <li class=\"modal-details-item\">\n            <span class=\"modal-details-label\">Burned Calories</span>\n            <span class=\"modal-details-value\">${burnedCalories}/${time} min</span>\n          </li>\n        </ul>\n\n        <p class=\"modal-desc\">${description}</p>\n\n        <div class=\"modal-buttons\">\n          <button type=\"button\" class=\"modal-btn-fav js-fav-btn\">\n            <span>${btnText}</span>\n            ${btnIcon}\n          </button>\n          \n          <button type=\"button\" class=\"modal-btn-rating\">\n            Give a rating\n          </button>\n        </div>\n      </div>\n    </div>\n  `;\n  \n  modalContent.innerHTML = markup;\n}\n\n// --- –õ–û–ì–Ü–ö–ê –ö–ù–û–ü–û–ö ---\nfunction setupModalListeners() {\n  const favBtn = document.querySelector('.js-fav-btn');\n  const ratingBtn = document.querySelector('.modal-btn-rating'); // –ó–Ω–∞—Ö–æ–¥–∏–º–æ –∫–Ω–æ–ø–∫—É —Ä–µ–π—Ç–∏–Ω–≥—É\n\n  // 1. –°–ª—É—Ö–∞—á Favorites\n  if (favBtn) {\n    favBtn.addEventListener('click', () => {\n      let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n      const index = favorites.findIndex(item => item._id === currentExercise._id);\n\n      if (index === -1) {\n        // –î–æ–¥–∞—î–º–æ\n        favorites.push(currentExercise);\n        favBtn.querySelector('span').textContent = 'Remove from favorites';\n        favBtn.innerHTML = `<span>Remove from favorites</span> <svg width=\"18\" height=\"18\"><path d=\"M6 18L18 6M6 6l12 12\" stroke=\"white\" stroke-width=\"2\"/></svg>`;\n      } else {\n        // –í–∏–¥–∞–ª—è—î–º–æ\n        favorites.splice(index, 1);\n        favBtn.querySelector('span').textContent = 'Add to favorites';\n        favBtn.innerHTML = `<span>Add to favorites</span> <svg width=\"18\" height=\"18\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\" fill=\"white\"/></svg>`;\n      }\n\n      localStorage.setItem('favorites', JSON.stringify(favorites));\n    });\n  }\n\n  // 2. –°–ª—É—Ö–∞—á Give a rating (üëà 2. –î–æ–¥–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞)\n  if (ratingBtn) {\n    ratingBtn.addEventListener('click', () => {\n        closeModal(); // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –ø–æ—Ç–æ—á–Ω—É –º–æ–¥–∞–ª–∫—É\n        openRatingModal(currentExercise._id); // –í—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ —Ä–µ–π—Ç–∏–Ω–≥\n    });\n  }\n}","const openBtn = document.querySelector('.js-open-menu');\nconst closeBtn = document.querySelector('.js-close-menu');\nconst menuContainer = document.querySelector('.js-menu-container');\n\nfunction toggleMenu() {\n  const isMenuOpen = openBtn.getAttribute('aria-expanded') === 'true' || false;\n  openBtn.setAttribute('aria-expanded', !isMenuOpen);\n  \n  menuContainer.classList.toggle('is-open');\n\n  // –ë–ª–æ–∫—É—î–º–æ —Å–∫—Ä–æ–ª –Ω–∞ —Ñ–æ–Ω—ñ\n  if (menuContainer.classList.contains('is-open')) {\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = '';\n  }\n}\n\n// –°–ª—É—Ö–∞—á—ñ\nif (openBtn && closeBtn) {\n  openBtn.addEventListener('click', toggleMenu);\n  closeBtn.addEventListener('click', toggleMenu);\n\n  // –ó–∞–∫—Ä–∏—Ç–∏ –º–µ–Ω—é –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (—â–æ–± –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ñ–Ω—à—É —Å—Ç–æ—Ä—ñ–Ω–∫—É)\n  document.querySelectorAll('.mobile-nav-link').forEach(link => {\n    link.addEventListener('click', () => {\n       menuContainer.classList.remove('is-open');\n       document.body.style.overflow = '';\n    });\n  });\n}","const btn = document.getElementById('scrollToTopBtn');\n\nif (btn) {\n  // 1. –í—ñ–¥—Å—Ç–µ–∂—É—î–º–æ —Å–∫—Ä–æ–ª\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      btn.classList.remove('is-hidden');\n    } else {\n      btn.classList.add('is-hidden');\n    }\n  });\n\n  // 2. –ö–ª—ñ–∫ - –ø–ª–∞–≤–Ω–∏–π —Å–∫—Ä–æ–ª –Ω–∞–≥–æ—Ä—É\n  btn.addEventListener('click', () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  });\n}"],"names":["BASE_URL","YourEnergyAPI","filter","page","limit","url","bodypart","muscles","equipment","keyword","id","email","res","rate","review","error","api","backdrop","closeBtn","form","starsList","ratingValue","currentExerciseId","currentRating","openRatingModal","exerciseBackdrop","resetForm","closeRatingModal","star","s","index","btn","originalText","modalContent","currentExercise","openModal","renderModalMarkup","setupModalListeners","closeModal","data","gifUrl","name","rating","target","bodyPart","popularity","burnedCalories","time","description","_id","isFavorite","item","markup","favBtn","ratingBtn","favorites","openBtn","menuContainer","toggleMenu","isMenuOpen","link"],"mappings":"ssBACA,MAAMA,EAAW,uCAEV,MAAMC,CAAc,CAGzB,MAAM,UAAW,CAEf,OADY,MAAM,MAAM,GAAGD,CAAQ,QAAQ,GAChC,MACZ,CAGD,MAAM,WAAWE,EAAQC,EAAO,EAAGC,EAAQ,GAAI,CAC7C,MAAMC,EAAM,IAAI,IAAI,GAAGL,CAAQ,UAAU,EACzC,OAAAK,EAAI,aAAa,IAAI,SAAUH,CAAM,EACrCG,EAAI,aAAa,IAAI,OAAQF,CAAI,EACjCE,EAAI,aAAa,IAAI,QAASD,CAAK,GAEvB,MAAM,MAAMC,CAAG,GAChB,MACZ,CAGD,MAAM,aAAa,CAAE,SAAAC,EAAU,QAAAC,EAAS,UAAAC,EAAW,QAAAC,EAAS,KAAAN,EAAO,EAAG,MAAAC,EAAQ,IAAM,CAClF,MAAMC,EAAM,IAAI,IAAI,GAAGL,CAAQ,YAAY,EAE3C,OAAIM,GAAUD,EAAI,aAAa,IAAI,WAAYC,CAAQ,EACnDC,GAASF,EAAI,aAAa,IAAI,UAAWE,CAAO,EAChDC,GAAWH,EAAI,aAAa,IAAI,YAAaG,CAAS,EACtDC,GAASJ,EAAI,aAAa,IAAI,UAAWI,CAAO,EACpDJ,EAAI,aAAa,IAAI,OAAQF,CAAI,EACjCE,EAAI,aAAa,IAAI,QAASD,CAAK,GAEvB,MAAM,MAAMC,CAAG,GAChB,MACZ,CAGD,MAAM,gBAAgBK,EAAI,CAExB,OADY,MAAM,MAAM,GAAGV,CAAQ,cAAcU,CAAE,EAAE,GAC1C,MACZ,CAGD,MAAM,UAAUC,EAAO,CACrB,MAAMC,EAAM,MAAM,MAAM,GAAGZ,CAAQ,gBAAiB,CAClD,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAoB,EAC/C,KAAM,KAAK,UAAU,CAAE,MAAAW,CAAK,CAAE,CACpC,CAAK,EACD,GAAI,CAACC,EAAI,GAAI,MAAM,IAAI,MAAM,qBAAqB,EAClD,OAAOA,EAAI,MACZ,CAGD,MAAM,YAAYF,EAAI,CAAE,KAAAG,EAAM,MAAAF,EAAO,OAAAG,CAAM,EAAI,CAC7C,MAAMF,EAAM,MAAM,MAAM,GAAGZ,CAAQ,cAAcU,CAAE,UAAW,CAC5D,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAoB,EAC/C,KAAM,KAAK,UAAU,CACnB,KAAM,OAAOG,CAAI,EACjB,MAAAF,EACA,OAAAG,CACR,CAAO,CACP,CAAK,EAGD,GAAI,CAACF,EAAI,GAAI,CACT,MAAMG,EAAQ,IAAI,MAAM,eAAe,EACvC,MAAAA,EAAM,SAAW,CAAE,OAAQH,EAAI,MAAM,EAC/BG,CACT,CACD,OAAOH,EAAI,MACZ,CACH,CCxEA,MAAMI,EAAM,IAAIf,EACVgB,EAAW,SAAS,cAAc,qBAAqB,EACvDC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAc,SAAS,cAAc,kBAAkB,EAE7D,IAAIC,EAAoB,KACpBC,EAAgB,EAGb,SAASC,EAAgBd,EAAI,CAClC,GAAI,CAACO,EAAU,OACfK,EAAoBZ,EAGpB,MAAMe,EAAmB,SAAS,cAAc,cAAc,EAC1DA,GAAkBA,EAAiB,UAAU,IAAI,WAAW,EAEhER,EAAS,UAAU,OAAO,WAAW,EACrCS,GACF,CAGA,SAASC,GAAmB,CAC1BV,EAAS,UAAU,IAAI,WAAW,EAGlC,MAAMQ,EAAmB,SAAS,cAAc,cAAc,EAC1DA,GAAoB,CAACA,EAAiB,UAAU,SAAS,WAAW,GAEpEA,EAAiB,UAAU,OAAO,WAAW,CAEnD,CAGIL,GACFA,EAAU,iBAAiB,QAAU,GAAM,CAEzC,MAAMQ,EAAO,EAAE,OAAO,QAAQ,YAAY,EAC1C,GAAI,CAACA,EAAM,OAEXL,EAAgB,OAAOK,EAAK,QAAQ,KAAK,EAGzCP,EAAY,YAAcE,EAAc,QAAQ,CAAC,EAGnCH,EAAU,iBAAiB,YAAY,EAC/C,QAAQ,CAACS,EAAGC,IAAU,CACtBA,EAAQP,EACVM,EAAE,UAAU,IAAI,QAAQ,EAExBA,EAAE,UAAU,OAAO,QAAQ,CAEnC,CAAK,CACL,CAAG,EAICV,GACFA,EAAK,iBAAiB,SAAU,MAAO,GAAM,CAG3C,GAFA,EAAE,eAAc,EAEZI,IAAkB,EAAG,CACvB,MAAM,8BAA8B,EACpC,MACD,CAED,MAAMZ,EAAQQ,EAAK,SAAS,MAAM,MAAM,OAClCL,EAASK,EAAK,SAAS,QAAQ,MAAM,OAErCY,EAAMZ,EAAK,cAAc,QAAQ,EACjCa,EAAeD,EAAI,YACzBA,EAAI,YAAc,aAClBA,EAAI,SAAW,GAEf,GAAI,CAEF,MAAMf,EAAI,YAAYM,EAAmB,CAAE,KAAMC,EAAe,MAAAZ,EAAO,OAAAG,CAAM,CAAE,EAE/E,MAAM,2CAA2C,EACjDa,GAED,OAAQZ,EAAO,CACd,QAAQ,MAAMA,CAAK,EAEfA,EAAM,UAAYA,EAAM,SAAS,SAAW,IAC5C,MAAM,uCAAuC,EAE7C,MAAM,yCAAyC,EAEnDY,GACN,QAAc,CACRI,EAAI,YAAcC,EAClBD,EAAI,SAAW,EAChB,CACL,CAAG,EAGH,SAASL,GAAY,CACnBP,EAAK,MAAK,EACVI,EAAgB,EAChBF,EAAY,YAAc,MAC1BD,EAAU,iBAAiB,YAAY,EAAE,QAAQS,GAAKA,EAAE,UAAU,OAAO,QAAQ,CAAC,CACpF,CAGIX,GAAUA,EAAS,iBAAiB,QAASS,CAAgB,EAC7DV,GAAUA,EAAS,iBAAiB,QAAU,GAAM,CAAM,EAAE,SAAWA,GAAUU,EAAgB,CAAG,CAAE,EC5G1G,MAAMX,EAAM,IAAIf,EACVgB,EAAW,SAAS,cAAc,cAAc,EAChDgB,EAAe,SAAS,cAAc,mBAAmB,EACzDf,EAAW,SAAS,cAAc,iBAAiB,EAGzD,IAAIgB,EAAkB,KAGf,eAAeC,EAAUzB,EAAI,CAClC,GAAKO,EAGL,CAAAA,EAAS,UAAU,OAAO,WAAW,EACrC,SAAS,KAAK,MAAM,SAAW,SAE/BgB,EAAa,UAAY,6DAEzB,GAAI,CAEFC,EAAkB,MAAMlB,EAAI,gBAAgBN,CAAE,EAG9C0B,EAAkBF,CAAe,EAGjCG,GAED,OAAQtB,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBkB,EAAa,UAAY,oFAC1B,EACH,CAGA,SAASK,GAAa,CACpBrB,EAAS,UAAU,IAAI,WAAW,EAClC,SAAS,KAAK,MAAM,SAAW,GAC/BgB,EAAa,UAAY,EAC3B,CAGIf,GACFA,EAAS,iBAAiB,QAASoB,CAAU,EAG3CrB,GACFA,EAAS,iBAAiB,QAAU,GAAM,CACpC,EAAE,SAAWA,GACfqB,GAEN,CAAG,EAGH,SAAS,iBAAiB,UAAY,GAAM,CACtC,EAAE,MAAQ,UAAY,CAACrB,EAAS,UAAU,SAAS,WAAW,GAChEqB,GAEJ,CAAC,EAGD,SAASF,EAAkBG,EAAM,CAC/B,KAAM,CAAE,OAAAC,EAAQ,KAAAC,EAAM,OAAAC,EAAQ,OAAAC,EAAQ,SAAAC,EAAU,UAAApC,EAAW,WAAAqC,EAAY,eAAAC,EAAgB,KAAAC,EAAM,YAAAC,EAAa,IAAAC,CAAG,EAAKV,EAI5GW,GADY,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,IACtC,KAAKC,GAAQA,EAAK,MAAQF,CAAG,EAQpDG,EAAS;AAAA;AAAA,oCAEmBZ,CAAM,UAAUC,CAAI;AAAA;AAAA;AAAA,kCAGtBA,CAAI;AAAA;AAAA;AAAA,6CAGOC,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAOHC,CAAM;AAAA;AAAA;AAAA;AAAA,gDAINC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRpC,CAAS;AAAA;AAAA;AAAA;AAAA,gDAITqC,CAAU;AAAA;AAAA;AAAA;AAAA,gDAIVC,CAAc,IAAIC,CAAI;AAAA;AAAA;AAAA;AAAA,gCAItCC,CAAW;AAAA;AAAA;AAAA;AAAA,oBAzCzBE,EAAa,wBAA0B,kBA6C9B;AAAA,cA3CTA,EACd,qGACA,2OA0CiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWnBjB,EAAa,UAAYmB,CAC3B,CAGA,SAASf,GAAsB,CAC7B,MAAMgB,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAY,SAAS,cAAc,mBAAmB,EAGxDD,GACFA,EAAO,iBAAiB,QAAS,IAAM,CACrC,IAAIE,EAAY,KAAK,MAAM,aAAa,QAAQ,WAAW,CAAC,GAAK,GACjE,MAAMzB,EAAQyB,EAAU,UAAUJ,GAAQA,EAAK,MAAQjB,EAAgB,GAAG,EAEtEJ,IAAU,IAEZyB,EAAU,KAAKrB,CAAe,EAC9BmB,EAAO,cAAc,MAAM,EAAE,YAAc,wBAC3CA,EAAO,UAAY,0IAGnBE,EAAU,OAAOzB,EAAO,CAAC,EACzBuB,EAAO,cAAc,MAAM,EAAE,YAAc,mBAC3CA,EAAO,UAAY,2QAGrB,aAAa,QAAQ,YAAa,KAAK,UAAUE,CAAS,CAAC,CACjE,CAAK,EAICD,GACFA,EAAU,iBAAiB,QAAS,IAAM,CACtChB,IACAd,EAAgBU,EAAgB,GAAG,CAC3C,CAAK,CAEL,CCrKA,MAAMsB,EAAU,SAAS,cAAc,eAAe,EAChDtC,EAAW,SAAS,cAAc,gBAAgB,EAClDuC,EAAgB,SAAS,cAAc,oBAAoB,EAEjE,SAASC,GAAa,CACpB,MAAMC,EAAaH,EAAQ,aAAa,eAAe,IAAM,QAAU,GACvEA,EAAQ,aAAa,gBAAiB,CAACG,CAAU,EAEjDF,EAAc,UAAU,OAAO,SAAS,EAGpCA,EAAc,UAAU,SAAS,SAAS,EAC5C,SAAS,KAAK,MAAM,SAAW,SAE/B,SAAS,KAAK,MAAM,SAAW,EAEnC,CAGID,GAAWtC,IACbsC,EAAQ,iBAAiB,QAASE,CAAU,EAC5CxC,EAAS,iBAAiB,QAASwC,CAAU,EAG7C,SAAS,iBAAiB,kBAAkB,EAAE,QAAQE,GAAQ,CAC5DA,EAAK,iBAAiB,QAAS,IAAM,CAClCH,EAAc,UAAU,OAAO,SAAS,EACxC,SAAS,KAAK,MAAM,SAAW,EACtC,CAAK,CACL,CAAG,GC7BH,MAAM1B,EAAM,SAAS,eAAe,gBAAgB,EAEhDA,IAEF,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,QAAU,IACnBA,EAAI,UAAU,OAAO,WAAW,EAEhCA,EAAI,UAAU,IAAI,WAAW,CAEnC,CAAG,EAGDA,EAAI,iBAAiB,QAAS,IAAM,CAClC,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,CACL,CAAG"}